<!doctype html>
<html>

<head>

  <title>ZUKS Client</title>

  <meta charset="UTF-8">
  <meta name="viewport"
  content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <link rel="shortcut icon" href="http://zuks.org/static/img/favicon.png?v=2" type="image/x-icon">

  <script src="bower_components/webcomponentsjs/webcomponents.js">
  </script>

  <link rel="import" href="bower_components/polymer/polymer.html">
  <link rel="import" href="bower_components/web-tour/web-tour.html">

  <link rel="import" href="components/zuks-client-app.html">
  <link rel="import" href="components/zuks-app.html">

  <!-- load the social icon set and core-icon element -->
  <link rel="import" href="/bower_components/core-icons/hardware-icons.html">

  <style>
  html,body {
    height: 100%;
    width: 100%;
    margin: 0;
    background-color: #f0f2f4;
    
    font-family: 'Roboto', sans-serif;
    color: #666;
  }

  body {
    min-width: 1000px;
    overflow: hidden;
  }

  @media (max-width: 1000px) {
    body {
      overflow: scroll;
    }
  }

  header {
    background-color: white;
    height: 60px;
    border-bottom: 1px solid #4d9eff;
    padding: 0 40px;
  }

  header img {
    height: 41px;
    width: 150px;
    vertical-align: middle;
    padding-top: 9px;
  }

  .back {
    background: url('https://www.zuks.org/img/icons/back.png') no-repeat left;
    background-size: 16px;
    padding-left: 28px!important;
    background-position: 5px;
  }

  nav {
    float: right;
  }

  nav a {
    display: block;
    text-decoration: none;
    padding: 20px 15px;
    line-height: 20px;
    color: #555;
    float: left;
    font-size: 14px;
  }

  nav .active {
    color: #fff;
    background-color: #4d9eff;
  }

  #content {
    height: 100%;
  }

  .desktop-container, .mobile-container {
    float: left;
    position: relative;
  }

  .desktop-container {
    margin: 9px 27px 0 27px;
    /* 100 % - margin top - header */
    height: calc(100% - 9px - 61px);
    /* 100 % - margin left - margin right - mobile view - margin right */
    width: calc(100% - 27px - 27px - 300px - 27px);
  }

  .desktop-container img {
    width: 100%;
    height: 100%
  }

  .mobile-container {
    margin-top: 6%;
    height: 588px;
    width: 300px;

    background-image: url('demo/smartphone.png');
    background-size: cover;
  }

  zuks-app {
    position: absolute;
    left: 4%;
    right: 4%;
    top: 6%;
    bottom: 13%;
  }

  zuks-client-app {
    position: absolute;
    left: 17px;
    right: 17px;
    top: 50px;
    bottom: 66px;
  }

  html /deep/ paper-button[affirmative] {
    color: #4d9eff;
  }

  </style>

</head>

<body unresolved>
  <template is="auto-binding" id="demoTemplate">

    <header>
      <div class="container">
        <a class="navbar-brand" href="https://www.zuks.org">
          <img src="https://www.zuks.org/static/img/logo/logo%40300.png" alt="ZUKS Logo" />
        </a>
        <nav>
          <a href="https://www.zuks.org" class="back">ZUKS</a>
          <a href="#" class="active">Prototyp</a>
          <a href="#" on-click="{{startTour}}">Tour starten</a>
        </nav>
      </div>
    </header>

    <div id="content">
      <div class="desktop-container">
        <img src="demo/desktop.png" />
        <zuks-app></zuks-app>
      </div>

      <div class="mobile-container">
        <zuks-client-app></zuks-client-app>
      </div>
    </div>

    <web-tour id="tour" texts="{{tourTexts}}" host="{{tourHost}}">
      <web-tour-step heading="Demo-Tour">
        <p>In dieser Tour lernst Du die wesentlichen Interaktionselemente des ZUKS-Prototypen kennen. 

          <core-icon class="right" icon="hardware:phone-android"></core-icon>
          <core-icon class="right" icon="hardware:keyboard-arrow-right"></core-icon>
          Auf der rechten Seite siehst Du die App die Du als ZUKS-Helfer benutzen wirst. 

          <core-icon class="left" icon="hardware:keyboard-arrow-left"></core-icon>
          <core-icon class="left" icon="hardware:desktop-mac"></core-icon>
          Links auf dem Bildschirm den Controller wie wir ihn in der ZUKS-Zentrale einsetzen. Um zu zeigen wie die beiden Anwednungen zusammenspielen kannst du in dieser Demo ausnahmensweise beide bedienen.

        </p>
      </web-tour-step>
      <web-tour-step heading="Anmeldung in der App" targetSelector="html /deep/ core-header-panel">
        <p>Um bei einer Katastrophe in deiner Nähe zu helfen hast du dir die ZUKS-App heruntergeladen und willst dich anmelden. Bitte trage hier deinen oder einen ausgedachten Namen ein und schließe mit 'Anmelden' ab.</p>
      </web-tour-step>
      <web-tour-step heading="Helfer-Liste" targetSelector="html /deep/ zuks-volunteer-list">
        <p>Wir in der ZUKS-Zentrale haben dich nun auf unserer Liste. Du bist als potentieller Helfer in der Datenbank eingetragen.</p>
      </web-tour-step>
      <web-tour-step heading="Standortfreigabe" targetSelector="html /deep/ core-header-panel">
        <p>Alle für Dich relevanten Infos erhältst du über solche "Karten". Hier bitten wir dich darum deinen Standort freizugeben. Dadurch können wir dir helfen wenn du dich verlaufen solltest oder dich warnen wenn du dich in ein Gefahrengebiet begibst.</p>
      </web-tour-step>
      <web-tour-step heading="Helfer lokalisieren" targetSelector="html /deep/ zuks-volunteer-list">
        <p>Finde deinen Namen in der Liste unserer bisherigen Helfer und klicke auf <core-icon icon="maps:my-location"></core-icon>. Ist dein Standort korrekt?</p>

        <p> Falls nein: Melde es uns wenn dein Standort nicht korrekt erkannt wird. Mögliche Gründe für eine nicht korrekte Lokalisierung findest du <a href="">hier</a></p>
        <a href="mailto:info@zuks.org" onmouseover="this.href=this.href.replace(/x/g,'');">
            <core-icon icon="mail"/>
        </a>
      </web-tour-step>
      <web-tour-step heading="Helfer zum Einsatz leiten" targetSelector="html /deep/ zuks-volunteer-list">
        <p>Du darfst hier einmal ZUKS-Zentrale spielen und dich selbst an einen beliebigen Einsatzort lotsen. Klicke auf <core-icon icon="maps:navigation"></core-icon> und wähle in der Karte den Ort aus, an dem deine Hilfe benötigt wird.</p>
      </web-tour-step>
      <web-tour-step heading="Standortfreigabe" targetSelector="html /deep/ core-header-panel">
        <p>Den Hinweis wohin es für dich im Einsatz gehen wird und das notwendige Kartenmaterial bekommst du direkt in der App angezeigt. Los gehts!</p>
      </web-tour-step>

      <web-tour-step heading="Danke für deine Hilfe!">
        <p>Dies ist das Ende unserer kleinen Demo-Tour. Wir freuen uns über Feedback und Verbesserungsvorschläge auf unseren Kanälen:</p>
        <a href="mailto:info@zuks.org" onmouseover="this.href=this.href.replace(/x/g,'');">
            <core-icon icon="mail"/>
        </a>
        <a href="https://www.facebook.com/zuks.org">
            <core-icon icon="face"/>
        </a>
        <a href="https://twitter.com/zuksDE">
            <core-icon icon="flag"/>
        </a>
        <p>Viel Spaß beim weiteren Testen unserer Anwendung. Probier ruhig alles aus, Du kannst nichts kaputt machen!</p>
      </web-tour-step>
    </web-tour>

  </template>

  <script type="text/javascript">
    window.onload = function() {
      var template = document.querySelector('template#demoTemplate');
      template.addEventListener('template-bound', function() {
        this.tourTexts = {
          next: 'Weiter',
          abort: 'Abbrechen',
          finish: 'Abschließen',
          moreInfos: 'Weitere Infos'
        }

        this.tourHost = document.querySelector('div#content');

        this.startTour = function() {
          document.querySelector('web-tour#tour').start();
        }

        // Safari hacks (IE is completely unsuported)
        var isSafari = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);
        if (isSafari) {
          // Safari hack to force layout refresh
          document.body.style.height = '0';
          setTimeout(function() {
            document.body.style.height = '100%';
          }, 1);

          // Safari hack to fix marker icon layout
          var style = document.createElement("style");
          style.appendChild(document.createTextNode(""));
          document.head.appendChild(style);
          style.innerHTML = "core-icon.foreground {\
            width: 46%;\
            height: 46%;\
            margin: 28%;\
            margin-top: 18%;\
          }";
        }

      });
    };
  </script>
</body>

</html>
